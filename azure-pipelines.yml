# ASP.NET Core
# Build and test ASP.NET Core projects targeting .NET Core.
# Add steps that run tests, create a NuGet package, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core

trigger:
- master

pool:
  vmImage: ubuntu-latest

variables:
  buildConfiguration: 'Release'

stages:
  - stage: 'FirstStage'
    displayName: 'First Stage'
    jobs:
    - job: 'ThisIsYourJob'
      displayName: 'This is your job'
      steps:
      - script: echo 'Hello World'
        displayName: 'Say Hello'
      - script: pwd
        displayName: 'Show working directory'
      - script: ls
        displayName: 'List folders'
      - script: dotnet build --configuration $(buildConfiguration)
        displayName: 'dotnet build $(buildConfiguration)'
  - stage: 'SecondStage'
    displayName: 'Second Stage'
    jobs:
    - job: 'SayToMe'
      displayName: 'Say to Me'
      steps:
      - script: echo 'Say What?'
    - job: 'PublishWebApp'
      displayName: 'Publish My App'
      steps:
      - publish: $(System.DefaultWorkingDirectory)/bin/WebApp
        artifact: WebApp
  - stage: 'ThirdStage'
    displayName: 'Third Stage'
    jobs:
    - job: 'Finaljob'
      displayName: 'Final Job'
      steps:
      - script: echo 'This is the end of the world'
